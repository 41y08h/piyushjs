---
title: "Relations in MongoDB and how to do them in mongoose.js"
description: "This tutorial explains different relational patterns in databases from the perspective of mongo db. This will teach you how we can create relationship between different collections using mongoose.js"
publishedOn: "2021-04-25"
tags: ["mongodb", "databases", "mongoose", "nosql"]
---

## Introduction

Many people think of NoSQL databases have no relations between documents and collections but this is a big myth floating around. **NoSQL databases are schema-less**, they are designed to be flexible about how you are storing your data. **NoSQL doesn't mean they are non-relational.**

## Types of relations

There are 3 types of relations you can have in your databases.

1. One-to-One
2. One-to-Many
3. Many-to-Many

### One-to-one

<img
  src={require("../../blog/images/one-to-one-relation.png")}
  alt="one to one relation"
/>

As you can clearly see in the picture that a single key can only belong to one room, and that's called one-to-one relation.

### Why do we need one-to-one relation

Many people may argue that what's the point of creating another table or collection when we have one to one relation. You may say that if a single key only belongs to a single room then why do we need to separate that information, we should put that into the room table or collection only, but that's not always the case as we have number field in both the key and room schema so if we try to put fields of key in the room schema itself, it will create confusion or we have to have some kind of prefix before the field.

<img
  src={require("../../blog/images/why-do-we-need-one-to-one-relation.png")}
  alt="why do we need one-to-one relation"
/>

### Implementation in MongoDB using mongoose.js

Now that we know what is one-to-one relation and why do we need them, let's learn how to do that in MongoDB.
In SQL world you'll have to create another table to have any kind of relation but in MongoDB world there are two ways we can do this -

1. Embedded documents
2. Separate collection

### Embedded documents

Embedded documents in MongoDB are very similar to nested objects in Javascript.

```js
// Room.js - Mongoose schema
{
    number: {
        type: Number,
        required: true
    },
    dimensions: {
        type: String,
        required: true
    },
    key: {
        number: Number,
        color: String
    }
}
```
